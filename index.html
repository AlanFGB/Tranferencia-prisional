<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gestão de Transferência e Prontuário</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; color: #1f2937; line-height: 1.25; }
        .card { background: white; border-radius: 4px; border: 1px solid #d1d5db; margin-bottom: 1rem; }
        .section-header { background: #1e3a8a; color: white; padding: 0.4rem 0.8rem; font-weight: 700; font-size: 0.7rem; text-transform: uppercase; }
        .data-label { font-size: 0.6rem; color: #6b7280; font-weight: 700; text-transform: uppercase; }
        .data-value { font-size: 0.8rem; font-weight: 600; color: #111827; }
        .status-pill { padding: 1px 6px; border-radius: 3px; font-size: 0.65rem; font-weight: 800; }
        @media print { .no-print { display: none; } body { background: white; padding: 0; } .card { border: 1px solid #000; } }
    </style>
</head>
<body class="p-4">

    <div class="max-w-4xl mx-auto">
        <!-- Cabeçalho Institucional -->
        <header class="flex justify-between items-end border-b-2 border-black pb-1 mb-4">
            <div>
                <h1 class="text-lg font-black tracking-tight uppercase">Prontuário Digital: Sentença Verde</h1>
                <p class="text-[9px] font-mono">AUTORIDADE PENITENCIÁRIA - CLOUD READY</p>
            </div>
            <div class="text-right text-[9px] font-mono no-print">
                REF: <span id="sessao"></span>
            </div>
        </header>

        <!-- Busca por CPF -->
        <div class="card p-3 no-print border-blue-200 bg-blue-50">
            <div class="flex gap-3 items-end">
                <div class="flex-grow">
                    <label class="data-label text-blue-900">Consulta de Interno (CPF):</label>
                    <input type="text" id="cpfInput" maxlength="14" placeholder="000.000.000-00" 
                        class="w-full p-1.5 border border-blue-300 rounded font-mono text-base outline-none focus:border-blue-600">
                </div>
                <button onclick="buscarDados()" class="bg-blue-900 text-white px-5 py-2 rounded font-bold text-xs hover:bg-black transition">ACESSAR</button>
            </div>
        </div>

        <div id="resultado" class="hidden">
            
            <!-- Identificação Civil e Status Sentença Verde -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                <div class="card md:col-span-2">
                    <div class="section-header">Identificação Civil</div>
                    <div class="p-3 grid grid-cols-2 gap-3">
                        <div><p class="data-label">Nome Completo</p><p class="data-value">João da Silva Exemplo</p></div>
                        <div><p class="data-label">CPF</p><p class="data-value font-mono" id="cpfDisplay"></p></div>
                        <div><p class="data-label">RG / UF</p><p class="data-value">12.345.678-9 SSP/SP</p></div>
                        <div><p class="data-label">Nascimento</p><p class="data-value">15/05/1985 (40 anos)</p></div>
                    </div>
                </div>
                <div class="card border-green-600 bg-green-50">
                    <div class="section-header bg-green-800 text-white">Sentença Verde</div>
                    <div class="p-3">
                        <p class="data-label">Índice Reabilitador</p>
                        <p class="text-green-800 font-black text-lg">8.2 / 10</p>
                        <div class="mt-2"><span class="status-pill bg-green-200 text-green-900">APTO PARA PROGRESSÃO</span></div>
                    </div>
                </div>
            </div>

            <!-- Prontuário de Saúde -->
            <div class="card border-red-200">
                <div class="section-header bg-red-800 text-white">Saúde: Clínico e Psicológico</div>
                <div class="p-3 grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div>
                        <h3 class="text-[10px] font-bold text-red-800 uppercase mb-1 border-b">Estado Clínico</h3>
                        <div class="text-[11px] space-y-1">
                            <p><strong>Status:</strong> Estável</p>
                            <p><strong>Última Consulta:</strong> 15/12/2025</p>
                            <p><strong>Observação:</strong> Hipertensão sob controle.</p>
                        </div>
                    </div>
                    <div class="border-x px-3 border-gray-100">
                        <h3 class="text-[10px] font-bold text-red-800 uppercase mb-1 border-b">Saúde Mental</h3>
                        <div class="text-[11px] space-y-1">
                            <p><strong>Atendimento:</strong> Semanal</p>
                            <p><strong>Parecer:</strong> Orientado e cooperativo com a reabilitação.</p>
                        </div>
                    </div>
                    <div class="bg-gray-50 p-2 rounded">
                        <h3 class="text-[10px] font-bold text-gray-700 uppercase mb-1 border-b border-gray-300">Medicação em Uso</h3>
                        <div class="text-[10px] space-y-2 mt-1 italic text-gray-700">
                            <p>• <strong>Losartana (50mg):</strong> 01 comp/dia (Hipertensão)</p>
                            <p>• <strong>Sertralina (50mg):</strong> 01 comp/dia (Ansiedade)</p>
                            <p>• <strong>Clonazepam (0,5mg):</strong> Uso SOS (Insônia)</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Histórico Jurídico -->
            <div class="card">
                <div class="section-header bg-gray-700">Defesa e Juízo</div>
                <div class="p-0 overflow-x-auto">
                    <table class="w-full text-left text-[11px]">
                        <thead class="bg-gray-100 text-[9px] uppercase font-bold">
                            <tr>
                                <th class="p-2 border-b">Fase</th>
                                <th class="p-2 border-b">Defensor</th>
                                <th class="p-2 border-b">Fórum</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b">
                                <td class="p-2">Original</td>
                                <td class="p-2">Dr. Marcos Oliveira</td>
                                <td class="p-2">Barra Funda</td>
                            </tr>
                            <tr class="bg-blue-50">
                                <td class="p-2 font-bold">Atual</td>
                                <td class="p-2">Dra. Heloísa Santos</td>
                                <td class="p-2 font-bold">Tribunal de Justiça</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Trajetória e Coabitação -->
            <div class="card">
                <div class="section-header">Movimentação e Coabitação</div>
                <div class="p-3 text-[11px] space-y-2">
                    <div class="border-l-2 border-gray-300 pl-3">
                        <p class="font-bold uppercase text-[9px] text-gray-500">Unidade Passada</p>
                        <p>Penitenciária I Tremembé | Cela 12-B | Lotação: 140%</p>
                        <p class="text-gray-400 italic">Coabitação: Ricardo M., Paulo S., André V.</p>
                    </div>
                    <div class="border-l-2 border-blue-600 pl-3 bg-blue-50 py-1">
                        <p class="font-bold uppercase text-[9px] text-blue-700">Unidade Atual</p>
                        <p class="font-semibold text-blue-900">CDP Pinheiros IV | Cela 04-A | Lotação: 95%</p>
                        <p class="text-gray-500 italic">Coabitação: Luiz Fernando K., Roberto T.</p>
                    </div>
                </div>
            </div>

            <footer class="mt-4 border-t pt-2 flex justify-between items-center text-[9px] text-gray-400 no-print">
                <p>GitHub Host Ready | Cloud Storage Active</p>
                <div class="flex gap-3">
                    <button onclick="window.print()" class="underline hover:text-black">IMPRIMIR</button>
                    <button class="bg-red-800 text-white px-3 py-1 rounded">SOLICITAR MOVIMENTAÇÃO</button>
                </div>
            </footer>
        </div>
    </div>

    <script>
        document.getElementById('sessao').innerText = Math.random().toString(36).substring(7).toUpperCase();
        const cpfInput = document.getElementById('cpfInput');
        cpfInput.addEventListener('input', (e) => {
            let v = e.target.value.replace(/\D/g, "");
            v = v.replace(/(\d{3})(\d)/, "$1.$2");
            v = v.replace(/(\d{3})(\d)/, "$1.$2");
            v = v.replace(/(\d{3})(\d{1,2})$/, "$1-$2");
            e.target.value = v;
        });
        function buscarDados() {
            if(cpfInput.value.length < 14) { alert("CPF Inválido."); return; }
            document.getElementById('cpfDisplay').innerText = cpfInput.value;
            document.getElementById('resultado').classList.remove('hidden');
        }
    </script>
</body>
</html>
